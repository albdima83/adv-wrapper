(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=c(n);fetch(n.href,r)}})();const y="https://albdima83.github.io/adv-wrapper/demo/lib/latest/ima3.js";let a,d,l,p=!1,f=!1,s,o,g;function A(e){return new Promise((t,c)=>{if(document.querySelector(`script[src="${e}"]`)){t();return}const i=document.createElement("script");i.type="text/javascript",i.src=e,i.async=!0,i.onload=()=>{t()},i.onerror=()=>{c(new Error(`Failed to load script: ${e}`))},document.head.appendChild(i)})}function v(){L(),d=new google.ima.AdsLoader(l),d.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,h,!1),d.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,E,!1),o.onended=()=>{p||(f=!0,d.contentComplete())};const e=new google.ima.AdsRequest,t=Date.now()+Math.random();e.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/vmap_ad_samples&sz=640x480&cust_params=sample_ar%3Dpreonly&ciu_szs=300x250%2C728x90&gdfp_req=1&ad_rule=1&output=vmap&unviewed_position_start=1&env=vp&impl=s&correlator="+t,e.linearAdSlotWidth=640,e.linearAdSlotHeight=400,e.nonLinearAdSlotWidth=640,e.nonLinearAdSlotHeight=150,d.requestAds(e)}function L(){l=new google.ima.AdDisplayContainer(document.getElementById("adContainer"),o)}function m(){o.load(),l.initialize();try{a.init(640,360,google.ima.ViewMode.NORMAL),a.start()}catch(e){console.error("Ad Error:",e),o.play()}}function h(e){const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,a=e.getAdsManager(o,t),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,E),a.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,R),a.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,_),a.addEventListener(google.ima.AdEvent.Type.LOADED,S)}function E(e){console.error(e.getError()),a&&a.destroy()}function C(e){console.log("ad container clicked"),o.paused?o.play():o.pause()}function R(){p=!0,o.pause()}function _(){p=!1,f||o.play()}function S(e){const t=e.getAd();t!=null&&t.isLinear()||o.play()}function D(){o=document.getElementById("contentElement"),g=document.getElementById("adContainer"),g.addEventListener("click",C),s=document.getElementById("playButton"),s.addEventListener("click",m),s==null||s.addEventListener("click",()=>{o.load(),l.initialize(),m()}),v()}async function O(){try{await A(y),D(),console.log("Script loaded successfully")}catch(e){console.error("Error loading script:",e)}}O();
